# ELASTICSEARCH


### Alper Konuralp - 29.05.2025

---


<div class="columns">
<div class="column is-60" style="font-size: 20px">

## Alper Konuralp

* 1978 İzmir doğumluyum.
* 1992 yılında bilgisayar ve BASIC ile tanıştım.
* 1998 Pamukkale İnşaat Mühendisliği’nden mezun oldum.
* 2003 yılında Bilişim Sektöründe çalışmaya başladım.
* 2006 yılında Eğitmen olarak çalışmaya başladım.
* 2011 yılında İstanbul’a taşındım.
* Mayıs 2018’den beri Doğuş Teknoloji’de çalışmaktayım.
* Temmuz 2024’de Master Expert pozisyonuna atandım.
* [youtube.com/alperkonuralp](https://youtube.com/alperkonuralp) Kanalımda yazılım eğitimleri paylaşıyorum.


</div>
<div class="column is-40" style="align-items: center">

<img src="./slides/AlperKonuralp.jpg" style="width: 70%; height: auto;" />

</div>
</div>

---

## Hadi Ortamımızı Kuralım

Önce Docker üzerinden Elasticsearch, Kibana ve Eğitim uygulamamızın kurulumunu yapalım.

```bash
cd docker

docker compose -p elastic-training up -d
```

---

## Ortamımıza Bir Gözatalım

Docker üzerinde kurduğumuz Elasticsearch, Kibana ve Eğitim uygulamamızı yerinde inceleyelim.

---

# Modül 1: Elasticsearch Dünyasına Merhaba De!

--

## Neden Elasticsearch?

* Geleneksel ilişkisel veritabanlarının (RDBMS) zorlukları.
* `LIKE '%...%'` sorgularının yetersizliği
* Yapısal olmayan (unstructured) ve yarı yapısal (semi-structured) veriler
* Çok çok fazla veri

--

## Elasticsearch Nedir?

Apache Lucene üzerine kurulu, dağıtık, RESTful arama ve analitik motoru.

* **Apache Lucene Üzerine Kurulu**
* **Dağıtık (Distributed)**
* **RESTful API**
* **Arama ve Analitik Motoru**
* **Gerçek Zamanlıya Yakın (Near Real-Time - NRT)**
* **Şema Esnek (Schema-Flexible) / Şemasız (Schemaless) Değil!**
* NoSql Veri Tabanıdır.

--

## Ne Değildir?

* Birincil ACID uyumlu veritabanı değildir.
* "Source of Truth" değildir.
* "Derived Data Store" veya "Search/Analytics Layer" düşünülebilir.
* NoSql Veri Tabanı değildir.

--

## Yaygın Kullanım Alanları

* Full-Text Search (Gelişmiş site içi arama, ürün kataloğu arama)
* Log ve Metrik Analizi (Gözlemlenebilirlik - Observability: APM, logs, metrics)
* İş Zekası (Business Intelligence) ve Analitik Raporlama
* Güvenlik Analitiği (SIEM - Security Information and Event Management)
* Coğrafi Veri Arama ve Analizi (Geospatial Search)

---

## Temel Mimarî Kavramlar

* **Document (Doküman):** Verinin JSON formatındaki temel birimi.
* **Index (İndeks):** Benzer özelliklere sahip dokümanların koleksiyonu.
* **Index Template:** Benzer verileri taşıyacak indexler için bir şablon hazırlayabiliriz.
* **Node (Düğüm):** Cluster'ın bir parçası olan tek bir Elasticsearch sunucusu.
* **Cluster (Küme):** Bir veya daha fazla Node'dan oluşan, veriyi ve iş yükünü paylaşan yapı.
* **Shard (Parça):** Bir index'in yatay olarak bölündüğü parçalar. Ölçeklenebilirlik ve paralelleştirme sağlar.
* **Replica (Kopya):** Primary Shard'ların kopyaları. Yüksek erişilebilirlik (high availability) ve okuma performansını artırır.

---

## Pratik Uygulama (Kibana Dev Tools)

* `GET /` : Cluster bilgilerini görme.
* `GET /_cluster/health` : Cluster sağlık durumunu kontrol etme.
* `GET /_cat/nodes?v` : Node'ları listeleme.
* `GET /_cat/indices?v` : Mevcut index'leri listeleme.

---

## Arama Nasıl Çalışır?

* Analiz Süreci: Metni Anlamlandırmak
* Ters Index (Inverted Index): Hızlı Aramanın Anahtarı
* Shard ve Replica'ların Aramadaki Rolü

--

## Analiz Süreci: Metni Anlamlandırmak

1. **Character Filters (Karakter Filtreleri):** Temizlik yaparlar.
2. **Tokenizer (Kelime Ayırıcı):** Metni bireysel kelimelere (token'lara) böler.
    * **Standard Tokenizer**
    * **Whitespace Tokenizer**
    * **Pattern Tokenizer**
    * **Language-Specific Tokenizers**
3. **Token Filters (Token Filtreleri):** Ek işlemler yaparlar.
    * **Lowercase Token Filter**
    * **Stop Token Filter**
    * **Stemmer Token Filter**
    * **Synonym Token Filter**

--

## Ters Index (Inverted Index): Hızlı Aramanın Anahtarı

| Token   | Doküman ID'leri (ve Pozisyonlar) |
| :------ | :-------------------------------- |
| quick   | Doc1 (pozisyon 2)                 |
| brown   | Doc1 (pozisyon 3), Doc2 (pozisyon 1) |
| error   | LogDoc5 (pozisyon 7), LogDoc12 (pozisyon 3) |
| fox     | Doc1 (pozisyon 4)                 |
| ...     | ...                               |

---

## Shard ve Replica'ların Aramadaki Rolü

* Shard'lar ve Paralel Arama
* Replica'lar ve Arama Kapasitesi/Erişilebilirlik
